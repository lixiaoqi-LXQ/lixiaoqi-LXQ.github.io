
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="The name `Qlog` is inspired by Dlog." name="description"/>
<link href="https://lixiaoqi-LXQ.github.io/dirty/cross_compiler/" rel="canonical"/>
<link href="../talk_cut/" rel="next"/>
<link href="../../img/favicon.ico" rel="icon"/>
<meta content="mkdocs-1.4.2, mkdocs-material-9.0.12" name="generator"/>
<title>搭建交叉编译环境 - Qlog</title>
<link href="../../assets/stylesheets/main.0d440cfe.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.2505c338.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../mkdocs/css/no-footer.css" rel="stylesheet"/>
<link href="../../mkdocs/css/unordered-list-symbols.css" rel="stylesheet"/>
<link href="../../stylesheets/extra.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            
                .gscrollbar-fixer { padding-right: 15px; }
                .gdesc-inner { font-size: 0.75rem; }
                body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
                body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
                body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
                </style><script src="../../assets/javascripts/glightbox.min.js"></script></head>
<body data-md-color-accent="cyan" data-md-color-primary="white" data-md-color-scheme="default" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#arm64aarch64">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Qlog" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Qlog">
<img alt="logo" src="../../img/touxiang.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Qlog
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              搭建交叉编译环境
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="切换至夜间模式" class="md-option" data-md-color-accent="cyan" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="white" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="切换至夜间模式">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"></path></svg>
</label>
<input aria-label="切换至日间模式" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="white" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="切换至日间模式">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"></path></svg>
</label>
</form>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="./">
        折腾记录
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../TODO/">
        想做的事
      </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Qlog" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Qlog">
<img alt="logo" src="../../img/touxiang.png"/>
</a>
    Qlog
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
          折腾记录
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_1_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
          折腾记录
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          搭建交叉编译环境
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        搭建交叉编译环境
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#_1">
    系统环境
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_2">
    参考文档
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_3">
    实验步骤
  </a>
<nav aria-label="实验步骤" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_4">
    一）准备工作
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#binutils">
    二）编译安装Binutils
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#linux-kernel">
    三）安装linux Kernel头文件
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#gccglibc">
    四）编译安装gcc和glibc
  </a>
<nav aria-label="四）编译安装gcc和glibc" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#1">
    1、编译器
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-c">
    2、标准 C 头文件和启动文件
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3">
    3、编译器支持库
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4c">
    4、编译标准C库
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#5-c">
    5、编译标准 C++ 库
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_5">
    五）测试
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_6">
    六）修改源码
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../talk_cut/">
        访谈视频总结
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../happy_workout/">
        冬日健身整活视频
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../outdoor/outline/">
        徒步规划
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../vim_conf/">
        neovim配置指南
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../TODO/">想做的事</a>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          想做的事
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#_1">
    系统环境
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_2">
    参考文档
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_3">
    实验步骤
  </a>
<nav aria-label="实验步骤" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_4">
    一）准备工作
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#binutils">
    二）编译安装Binutils
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#linux-kernel">
    三）安装linux Kernel头文件
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#gccglibc">
    四）编译安装gcc和glibc
  </a>
<nav aria-label="四）编译安装gcc和glibc" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#1">
    1、编译器
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-c">
    2、标准 C 头文件和启动文件
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3">
    3、编译器支持库
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4c">
    4、编译标准C库
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#5-c">
    5、编译标准 C++ 库
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_5">
    五）测试
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_6">
    六）修改源码
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="arm64aarch64">arm64/AArch64交叉编译环境</h1>
<h2 id="_1">系统环境</h2>
<p>Archlinux on x86</p>
<h2 id="_2">参考文档</h2>
<ul>
<li>
<p><a href="https://zhuanlan.zhihu.com/p/113084121">中文翻译版、环境变量的使用提高了容错率</a></p>
</li>
<li>
<p>上一篇和老师推荐的参考文档竟然是同一个，详细介绍了每一步的作用：<a href="https://preshing.com/20141119/how-to-build-a-gcc-cross-compiler/">How to Build a GCC Cross-Compiler</a></p>
</li>
<li>
<p>编译gcc的过程中遇见问题<code>error: cannot compute suffix of object files: cannot compil</code>：<a href="https://stackoverflow.com/questions/12650493/checking-for-suffix-of-object-files-configure-error-cannot-compute-suffix-o">使用脚本安装gcc的依赖</a></p>
</li>
</ul>
<h2 id="_3">实验步骤</h2>
<h3 id="_4">一）准备工作</h3>
<p>在一个<code>cross</code>目录下，我设置了三个文件夹：<code>build</code>、<code>install</code>和<code>src</code>，分别export为环境变量<code>CROSS_COMPILE_BUILD</code>、<code>CROSS_COMPILE_BUILD</code>和<code>CROSS_COMPILE_SRC</code>。并将未来的二进制文件目录加入PATH：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># at path/to/my/cross</span>
mkdir<span class="w"> </span>src<span class="w"> </span>build<span class="w"> </span>install
<span class="nb">export</span><span class="w"> </span><span class="nv">CROSS_COMPILE_SRC</span><span class="o">=</span>src/
<span class="nb">export</span><span class="w"> </span><span class="nv">CROSS_COMPILE_BUILD</span><span class="o">=</span>build/
<span class="nb">export</span><span class="w"> </span><span class="nv">CROSS_COMPILE_INSTALL</span><span class="o">=</span>install/
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$CROSS_COMPILE_INSTALL</span>/bin:<span class="nv">$PATH</span>
</code></pre></div>
<p>下载安装包，根据最新gcc编译脚本，无须手动安装gcc依赖：mpfr、mpc、isl、cloog等，所以第一步安装binutils、gcc、glibc、linux。因为我一直不太懂镜像源的具体用法，所以照搬参考中的做法(连切换USTC源的勇气也没有)：</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span><span class="nv">$CROSS_COMPILE_SRC</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">GNU_MIRROR_SITE</span><span class="o">=</span>https://mirrors.tuna.tsinghua.edu.cn/gnu/
<span class="nb">export</span><span class="w"> </span><span class="nv">KERNEL_MIRROR_SITE</span><span class="o">=</span>https://mirrors.tuna.tsinghua.edu.cn/kernel/

wget<span class="w"> </span><span class="nv">$GNU_MIRROR_SITE</span>/binutils/binutils-2.34.tar.xz<span class="w">                 </span><span class="c1"># binutils</span>
wget<span class="w"> </span><span class="nv">$GNU_MIRROR_SITE</span>/gcc/gcc-9.2.0/gcc-9.2.0.tar.xz<span class="w">                </span><span class="c1"># gcc</span>
wget<span class="w"> </span><span class="nv">$GNU_MIRROR_SITE</span>/glibc/glibc-2.31.tar.xz<span class="w">                       </span><span class="c1"># glibc</span>
wget<span class="w"> </span><span class="nv">$KERNEL_MIRROR_SITE</span>/v4.x/linux-4.14.172.tar.xz<span class="w">                 </span><span class="c1"># kernel</span>
</code></pre></div>
<p>然后解压所有上述压缩文件</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span>f<span class="w"> </span><span class="k">in</span><span class="w"> </span>*.tar.xz<span class="p">;</span><span class="w">  </span><span class="k">do</span><span class="w"> </span>tar<span class="w"> </span>-xJf<span class="w"> </span><span class="nv">$f</span><span class="p">;</span><span class="w"> </span><span class="k">done</span>
<span class="k">for</span><span class="w"> </span>f<span class="w"> </span><span class="k">in</span><span class="w"> </span>*.tar.bz2<span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span>tar<span class="w"> </span>-xjf<span class="w"> </span><span class="nv">$f</span><span class="p">;</span><span class="w"> </span><span class="k">done</span>
<span class="k">for</span><span class="w"> </span>f<span class="w"> </span><span class="k">in</span><span class="w"> </span>*.tar.gz<span class="p">;</span><span class="w">  </span><span class="k">do</span><span class="w"> </span>tar<span class="w"> </span>-xzf<span class="w"> </span><span class="nv">$f</span><span class="p">;</span><span class="w"> </span><span class="k">done</span>
</code></pre></div>
<p>检查目录：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ls<span class="w"> </span>-d<span class="w"> </span>*/
binutils-2.34/<span class="w">  </span>gcc-9.2.0/<span class="w">  </span>glibc-2.31/<span class="w">  </span>linux-4.14.172/
</code></pre></div>
<p>进入gcc目录继续安装依赖：</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span><span class="nv">$CROSS_COMPILE_SRC</span>
./contrib/download_prerequisites
</code></pre></div>
<p>这一步会在gcc-9.2.0下下载并解压依赖的压缩包，并创建软连接指向相应目录</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ll<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s1">'&gt;'</span>
lrwxrwxrwx<span class="w">  </span><span class="m">1</span><span class="w"> </span>lixiaoqi<span class="w"> </span>lixiaoqi<span class="w">   </span><span class="m">12</span><span class="w"> </span>Nov<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">13</span>:33<span class="w"> </span>gmp<span class="w"> </span>-&gt;<span class="w"> </span>./gmp-6.1.0/
lrwxrwxrwx<span class="w">  </span><span class="m">1</span><span class="w"> </span>lixiaoqi<span class="w"> </span>lixiaoqi<span class="w">   </span><span class="m">11</span><span class="w"> </span>Nov<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">13</span>:33<span class="w"> </span>isl<span class="w"> </span>-&gt;<span class="w"> </span>./isl-0.18/
lrwxrwxrwx<span class="w">  </span><span class="m">1</span><span class="w"> </span>lixiaoqi<span class="w"> </span>lixiaoqi<span class="w">   </span><span class="m">12</span><span class="w"> </span>Nov<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">13</span>:33<span class="w"> </span>mpc<span class="w"> </span>-&gt;<span class="w"> </span>./mpc-1.0.3/
lrwxrwxrwx<span class="w">  </span><span class="m">1</span><span class="w"> </span>lixiaoqi<span class="w"> </span>lixiaoqi<span class="w">   </span><span class="m">13</span><span class="w"> </span>Nov<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">13</span>:33<span class="w"> </span>mpfr<span class="w"> </span>-&gt;<span class="w"> </span>./mpfr-3.1.4/
</code></pre></div>
<p>编译线程数，因为编译gcc的时候如果用满八核，我的电脑会太过尽情以至关机，所以我使用7个线程。</p>
<div class="highlight"><pre><span></span><code><span class="c1"># export NPROC=`nproc`</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">NPROC</span><span class="o">=</span><span class="m">7</span>
</code></pre></div>
<h3 id="binutils">二）编译安装Binutils</h3>
<blockquote>
<p>在这一步之后就是照搬文档</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span><span class="nv">$CROSS_COMPILE_BUILD</span>
mkdir<span class="w"> </span>binutils
<span class="nb">cd</span><span class="w"> </span>binutils
<span class="nv">$CROSS_COMPILE_SRC</span>/binutils-2.34/configure<span class="w">  </span><span class="se">\</span>
<span class="w">    </span>--prefix<span class="o">=</span><span class="nv">$CROSS_COMPILE_INSTALL</span><span class="w">         </span><span class="se">\</span>
<span class="w">    </span>--target<span class="o">=</span>aarch64-linux<span class="w">                  </span><span class="se">\</span>
<span class="w">    </span>--disable-multilib
make<span class="w"> </span>-j<span class="nv">$NPROC</span>
make<span class="w"> </span>install
</code></pre></div>
<p>configure命令中的参数</p>
<ul>
<li>
<p><code>--target=aarch64-linux</code>会指定目标系统类型，这个脚本将会配置好安装目录和编译选项。</p>
</li>
<li>
<p><code>--disable-multilib</code>将会指定仅限于AArch64指令集。</p>
</li>
</ul>
<p>这一步过后，在<code>$CROSS_COMPILE_INSTALL/bin</code>中会得到交叉汇编器、交叉链接器等工具。</p>
<h3 id="linux-kernel">三）安装linux Kernel头文件</h3>
<p>这一步将linux kernel的头文件安装到<code>$CROSS_COMPILE_INSTALL/aarch64-linux</code></p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span><span class="nv">$CROSS_COMPILE_SRC</span>/linux-4.14.172
make<span class="w">                                                        </span><span class="se">\</span>
<span class="w">    </span><span class="nv">ARCH</span><span class="o">=</span>arm64<span class="w">                                              </span><span class="se">\</span>
<span class="w">    </span><span class="nv">INSTALL_HDR_PATH</span><span class="o">=</span><span class="nv">$CROSS_COMPILE_INSTALL</span>/aarch64-linux<span class="w">   </span><span class="se">\</span>
<span class="w">    </span>headers_install
</code></pre></div>
<h3 id="gccglibc">四）编译安装gcc和glibc</h3>
<p>这一步是最耗时也是最容易出错的地方，因为GCC和Glibc的依赖关系是部分GCC依赖部分Glibc，反过来亦然。所以需要交替编译两个库的相关组件。</p>
<p>如果这一部分出现错误，要确保自己有按照文档步骤来，根据报错信息查找原因，实在不行就全部重新来一遍。</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="100vh" data-width="100%" href="../figures/cross-gcc-steps.png"><img alt="" src="../figures/cross-gcc-steps.png"/></a></p>
<h4 id="1">1、编译器</h4>
<p>这一步只会构建GCC的C与C++交叉编译器，将他们安装到<code>$CROSS_COMPILE_INSTALL/bin</code>下。</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span><span class="nv">$CROSS_COMPILE_BUILD</span>
mkdir<span class="w"> </span>gcc
<span class="nb">cd</span><span class="w"> </span>gcc
<span class="nv">$CROSS_COMPILE_SRC</span>/gcc-9.2.0/configure<span class="w">  </span><span class="se">\</span>
<span class="w">    </span>--prefix<span class="o">=</span><span class="nv">$CROSS_COMPILE_INSTALL</span><span class="w">     </span><span class="se">\</span>
<span class="w">    </span>--target<span class="o">=</span>aarch64-linux<span class="w">              </span><span class="se">\</span>
<span class="w">    </span>--enable-language<span class="o">=</span>c,c++<span class="w">             </span><span class="se">\</span>
<span class="w">    </span>--disable-multilib
make<span class="w"> </span>-j<span class="nv">$NPROC</span><span class="w"> </span>all-gcc
make<span class="w"> </span>install-gcc
</code></pre></div>
<ul>
<li><code>--target=aarch64-linux</code>与前面的相呼应，将会指定寻找带有<code>aarch64-linux-</code>的工具，同时，产生的C/C++编译器也会带有前缀<code>aarch64-linux-</code></li>
<li><code>--enable-language=c,c++</code>将避免编译GCC的其他语言套件，如Java、Go等</li>
</ul>
<p>漫长的等待后，没有error字样就可以进行下一步了。</p>
<h4 id="2-c">2、标准 C 头文件和启动文件</h4>
<blockquote>
<p>原文注：如果前面没有把 <code>$CROSS_COMPILE_INSTALL/bin</code> 加入到 <code>PATH</code> 中的话这一步会报错。</p>
</blockquote>
<p>这一步中：</p>
<ul>
<li>
<p>GLibc的标准C头文件和启动文件将被安装至<code>$CROSS_COMPILE_INSTALL/aarch64-linux/include</code></p>
</li>
<li>
<p>使用上一步编译出的C编译器编译启动文件，安装至<code>$CROSS_COMPILE_INSTALL/aarch64-linux/lib</code></p>
</li>
<li>
<p>为了下一步需要，创建<code>libc.so</code>和<code>stubs.h</code>。这两个文件是临时，因为在下下步会被彻底替换。</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span><span class="nv">$CROSS_COMPILE_BUILD</span>
mkdir<span class="w"> </span>glibc
<span class="nb">cd</span><span class="w"> </span>glibc
<span class="nv">$CROSS_COMPILE_SRC</span>/glibc-2.31/configure<span class="w">                         </span><span class="se">\</span>
<span class="w">    </span>--prefix<span class="o">=</span><span class="nv">$CROSS_COMPILE_INSTALL</span>/aarch64-linux<span class="w">               </span><span class="se">\</span>
<span class="w">    </span>--build<span class="o">=</span><span class="nv">$MACHTYPE</span><span class="w">                                           </span><span class="se">\</span>
<span class="w">    </span>--host<span class="o">=</span>aarch64-linux<span class="w">                                        </span><span class="se">\</span>
<span class="w">    </span>--target<span class="o">=</span>aarch64-linux<span class="w">                                      </span><span class="se">\</span>
<span class="w">    </span>--with-headers<span class="o">=</span><span class="nv">$CROSS_COMPILE_INSTALL</span>/aarch64-linux/include<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--disable-multilib<span class="w">                                          </span><span class="se">\</span>
<span class="w">    </span><span class="nv">libc_cv_forced_unwind</span><span class="o">=</span>yes
make<span class="w"> </span>install-bootstrap-headers<span class="o">=</span>yes<span class="w"> </span>install-headers
make<span class="w"> </span>-j<span class="nv">$NPROC</span><span class="w"> </span>csu/subdir_lib
install<span class="w"> </span>csu/crt1.o<span class="w"> </span>csu/crti.o<span class="w"> </span>csu/crtn.o<span class="w"> </span><span class="nv">$CROSS_COMPILE_INSTALL</span>/aarch64-linux/lib
aarch64-linux-gcc<span class="w"> </span>-nostdlib<span class="w"> </span>-nostartfiles<span class="w"> </span>-shared<span class="w"> </span>-x<span class="w"> </span>c<span class="w"> </span>/dev/null<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-o<span class="w"> </span><span class="nv">$CROSS_COMPILE_INSTALL</span>/aarch64-linux/lib/libc.so
touch<span class="w"> </span><span class="nv">$CROSS_COMPILE_INSTALL</span>/aarch64-linux/include/gnu/stubs.h
</code></pre></div>
<h4 id="3">3、编译器支持库</h4>
<p>这一步会使用C编译器和上一步产生的启动文件去编译编译器支持库。</p>
<p>最终产生：</p>
<ul>
<li>
<p><code>$CROSS_COMPILE_INSTALL/lib/gcc/aarch64-linux/9.2.0</code>中的两个静态库 <code>libgcc.a</code>、<code>libgcc_eh.a</code></p>
</li>
<li>
<p><code>$CROSS_COMPILE_INSTALL/aarch64-linux/lib64</code>中的动态库 <code>libgcc_s.so</code></p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span><span class="nv">$CROSS_COMPILE_BUILD</span>/gcc
make<span class="w"> </span>-j<span class="nv">$NPORC</span><span class="w"> </span>all-target-libgcc
make<span class="w"> </span>install-target-libgcc
</code></pre></div>
<h4 id="4c">4、编译标准C库</h4>
<p>这一步完成glibc的构建，将标准C库文件安装至<code>$CROSS_COMPILE_INSTALL/aarch64-linux/lib</code>，</p>
<ul>
<li>
<p>静态库：<code>libc.a</code></p>
</li>
<li>
<p>动态库：<code>libc.so</code></p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span><span class="nv">$CROSS_COMPILE_BUILD</span>/glibc
make<span class="w"> </span>-j<span class="nv">$NPROC</span>
make<span class="w"> </span>install
</code></pre></div>
<h4 id="5-c">5、编译标准 C++ 库</h4>
<blockquote>
<p>文档对处理<code>PATH_MAX</code>未定义的报错进行了探讨</p>
</blockquote>
<p>编译GCC的最后一步！使用上一步的C库编译C++库，将其安装至<code>$CROSS_COMPILE_INSTALL/aarch64-linux/lib64</code></p>
<ul>
<li>
<p>静态库：<code>libstdc++.a</code></p>
</li>
<li>
<p>动态库：<code>libstdc++.so</code></p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span><span class="nv">$CROSS_COMPILE_BUILD</span>/gcc
make<span class="w"> </span>-j<span class="nv">$NPROC</span>
make<span class="w"> </span>install
</code></pre></div>
<h3 id="_5">五）测试</h3>
<p>测试使用C程序如下：</p>
<div class="highlight"><pre><span></span><code><span class="kt">int</span><span class="w"> </span><span class="nf">f</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="w">    </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="p">();</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>使用两个编译器分别进行编译</p>
<div class="highlight"><pre><span></span><code>aarch64-linux-gcc<span class="w"> </span>main.c<span class="w"> </span>-o<span class="w"> </span>arm.out
gcc<span class="w"> </span>main.c<span class="w"> </span>-o<span class="w"> </span>x86.out
</code></pre></div>
<p>首先利用readelf读取ELF头部信息</p>
<div class="highlight"><pre><span></span><code>readelf<span class="w"> </span>-h<span class="w"> </span>x86.out<span class="w"> </span>&gt;<span class="w"> </span>x86_readelf.txt
aarch64-linux-readelf<span class="w">  </span>-h<span class="w"> </span>arm.out<span class="w"> </span>&gt;<span class="w"> </span>arm_readelf.txt
</code></pre></div>
<p>diff查看elf头部信息的差别，可以看到ELF头部显示出的差异：</p>
<ul>
<li>
<p>运行机差异：AArch64和X86-64。</p>
</li>
<li>
<p>程序入口点：0x400450和0x1020。</p>
</li>
<li>
<p>节头、程序头信息也不一致。</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>diff<span class="w"> </span>arm_readelf.txt<span class="w"> </span>x86_readelf.txt
<span class="m">8</span>,9c8,9
&lt;<span class="w">   </span>Type:<span class="w">                              </span>EXEC<span class="w"> </span><span class="o">(</span>Executable<span class="w"> </span>file<span class="o">)</span>
&lt;<span class="w">   </span>Machine:<span class="w">                           </span>AArch64
---
&gt;<span class="w">   </span>Type:<span class="w">                              </span>DYN<span class="w"> </span><span class="o">(</span>Position-Independent<span class="w"> </span>Executable<span class="w"> </span>file<span class="o">)</span>
&gt;<span class="w">   </span>Machine:<span class="w">                           </span>Advanced<span class="w"> </span>Micro<span class="w"> </span>Devices<span class="w"> </span>X86-64
11c11
&lt;<span class="w">   </span>Entry<span class="w"> </span>point<span class="w"> </span>address:<span class="w">               </span>0x400450
---
&gt;<span class="w">   </span>Entry<span class="w"> </span>point<span class="w"> </span>address:<span class="w">               </span>0x1020
13c13
&lt;<span class="w">   </span>Start<span class="w"> </span>of<span class="w"> </span>section<span class="w"> </span>headers:<span class="w">          </span><span class="m">11176</span><span class="w"> </span><span class="o">(</span>bytes<span class="w"> </span>into<span class="w"> </span>file<span class="o">)</span>
---
&gt;<span class="w">   </span>Start<span class="w"> </span>of<span class="w"> </span>section<span class="w"> </span>headers:<span class="w">          </span><span class="m">18160</span><span class="w"> </span><span class="o">(</span>bytes<span class="w"> </span>into<span class="w"> </span>file<span class="o">)</span>
17c17
&lt;<span class="w">   </span>Number<span class="w"> </span>of<span class="w"> </span>program<span class="w"> </span>headers:<span class="w">         </span><span class="m">9</span>
---
&gt;<span class="w">   </span>Number<span class="w"> </span>of<span class="w"> </span>program<span class="w"> </span>headers:<span class="w">         </span><span class="m">13</span>
<span class="m">19</span>,20c19,20
&lt;<span class="w">   </span>Number<span class="w"> </span>of<span class="w"> </span>section<span class="w"> </span>headers:<span class="w">         </span><span class="m">36</span>
&lt;<span class="w">   </span>Section<span class="w"> </span>header<span class="w"> </span>string<span class="w"> </span>table<span class="w"> </span>index:<span class="w"> </span><span class="m">35</span>
---
&gt;<span class="w">   </span>Number<span class="w"> </span>of<span class="w"> </span>section<span class="w"> </span>headers:<span class="w">         </span><span class="m">35</span>
&gt;<span class="w">   </span>Section<span class="w"> </span>header<span class="w"> </span>string<span class="w"> </span>table<span class="w"> </span>index:<span class="w"> </span><span class="m">34</span>
</code></pre></div>
<p>利用objdump反汇编</p>
<div class="highlight"><pre><span></span><code>aarch64-linux-objdump<span class="w">  </span>-d<span class="w"> </span>arm.out<span class="w"> </span>&gt;<span class="w"> </span>arm_objdump.txt
objdump<span class="w"> </span>-d<span class="w"> </span>x86.out<span class="w"> </span>&gt;<span class="w"> </span>x86_objdump.txt
</code></pre></div>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>x86_objdump.txt
...
<span class="m">0000000000001020</span><span class="w"> </span>&lt;_start&gt;:
<span class="w">    </span><span class="m">1020</span>:<span class="w">    </span>f3<span class="w"> </span>0f<span class="w"> </span>1e<span class="w"> </span>fa<span class="w">              </span>endbr64
<span class="w">    </span><span class="m">1024</span>:<span class="w">    </span><span class="m">31</span><span class="w"> </span>ed<span class="w">                    </span>xor<span class="w">    </span>%ebp,%ebp
...
<span class="m">0000000000001119</span><span class="w"> </span>&lt;f&gt;:
<span class="w">    </span><span class="m">1119</span>:<span class="w">    </span><span class="m">55</span><span class="w">                       </span>push<span class="w">   </span>%rbp
<span class="w">    </span>111a:<span class="w">    </span><span class="m">48</span><span class="w"> </span><span class="m">89</span><span class="w"> </span>e5<span class="w">                 </span>mov<span class="w">    </span>%rsp,%rbp
<span class="w">    </span>111d:<span class="w">    </span>b8<span class="w"> </span><span class="m">00</span><span class="w"> </span><span class="m">00</span><span class="w"> </span><span class="m">00</span><span class="w"> </span><span class="m">00</span><span class="w">           </span>mov<span class="w">    </span><span class="nv">$0</span>x0,%eax
<span class="w">    </span><span class="m">1122</span>:<span class="w">    </span>5d<span class="w">                       </span>pop<span class="w">    </span>%rbp
<span class="w">    </span><span class="m">1123</span>:<span class="w">    </span>c3<span class="w">                       </span>ret

<span class="m">0000000000001124</span><span class="w"> </span>&lt;main&gt;:
<span class="w">    </span><span class="m">1124</span>:<span class="w">    </span><span class="m">55</span><span class="w">                       </span>push<span class="w">   </span>%rbp
<span class="w">    </span><span class="m">1125</span>:<span class="w">    </span><span class="m">48</span><span class="w"> </span><span class="m">89</span><span class="w"> </span>e5<span class="w">                 </span>mov<span class="w">    </span>%rsp,%rbp
<span class="w">    </span><span class="m">1128</span>:<span class="w">    </span><span class="m">48</span><span class="w"> </span><span class="m">83</span><span class="w"> </span>ec<span class="w"> </span><span class="m">10</span><span class="w">              </span>sub<span class="w">    </span><span class="nv">$0</span>x10,%rsp
<span class="w">    </span>112c:<span class="w">    </span>b8<span class="w"> </span><span class="m">00</span><span class="w"> </span><span class="m">00</span><span class="w"> </span><span class="m">00</span><span class="w"> </span><span class="m">00</span><span class="w">           </span>mov<span class="w">    </span><span class="nv">$0</span>x0,%eax
<span class="w">    </span><span class="m">1131</span>:<span class="w">    </span>e8<span class="w"> </span>e3<span class="w"> </span>ff<span class="w"> </span>ff<span class="w"> </span>ff<span class="w">           </span>call<span class="w">   </span><span class="m">1119</span><span class="w"> </span>&lt;f&gt;
<span class="w">    </span><span class="m">1136</span>:<span class="w">    </span><span class="m">89</span><span class="w"> </span><span class="m">45</span><span class="w"> </span><span class="nb">fc</span><span class="w">                 </span>mov<span class="w">    </span>%eax,-0x4<span class="o">(</span>%rbp<span class="o">)</span>
<span class="w">    </span><span class="m">1139</span>:<span class="w">    </span>b8<span class="w"> </span><span class="m">00</span><span class="w"> </span><span class="m">00</span><span class="w"> </span><span class="m">00</span><span class="w"> </span><span class="m">00</span><span class="w">           </span>mov<span class="w">    </span><span class="nv">$0</span>x0,%eax
<span class="w">    </span>113e:<span class="w">    </span>c9<span class="w">                       </span>leave
<span class="w">    </span>113f:<span class="w">    </span>c3<span class="w">                       </span>ret
...
$<span class="w"> </span>cat<span class="w"> </span>arm_objdump.txt
...
<span class="m">0000000000400450</span><span class="w"> </span>&lt;_start&gt;:
<span class="w">  </span><span class="m">400450</span>:<span class="w">    </span>d280001d<span class="w">     </span>mov<span class="w">    </span>x29,<span class="w"> </span><span class="c1">#0x0                       // #0</span>
<span class="w">  </span><span class="m">400454</span>:<span class="w">    </span>d280001e<span class="w">     </span>mov<span class="w">    </span>x30,<span class="w"> </span><span class="c1">#0x0                       // #0</span>
...
000000000040055c<span class="w"> </span>&lt;f&gt;:
<span class="w">  </span>40055c:<span class="w">    </span><span class="m">52800000</span><span class="w">     </span>mov<span class="w">    </span>w0,<span class="w"> </span><span class="c1">#0x0                       // #0</span>
<span class="w">  </span><span class="m">400560</span>:<span class="w">    </span>d65f03c0<span class="w">     </span>ret

<span class="m">0000000000400564</span><span class="w"> </span>&lt;main&gt;:
<span class="w">  </span><span class="m">400564</span>:<span class="w">    </span>a9be7bfd<span class="w">     </span>stp<span class="w">    </span>x29,<span class="w"> </span>x30,<span class="w"> </span><span class="o">[</span>sp,<span class="w"> </span><span class="c1">#-32]!</span>
<span class="w">  </span><span class="m">400568</span>:<span class="w">    </span>910003fd<span class="w">     </span>mov<span class="w">    </span>x29,<span class="w"> </span>sp
<span class="w">  </span>40056c:<span class="w">    </span>97fffffc<span class="w">     </span>bl<span class="w">    </span>40055c<span class="w"> </span>&lt;f&gt;
<span class="w">  </span><span class="m">400570</span>:<span class="w">    </span>b9001fe0<span class="w">     </span>str<span class="w">    </span>w0,<span class="w"> </span><span class="o">[</span>sp,<span class="w"> </span><span class="c1">#28]</span>
<span class="w">  </span><span class="m">400574</span>:<span class="w">    </span><span class="m">52800000</span><span class="w">     </span>mov<span class="w">    </span>w0,<span class="w"> </span><span class="c1">#0x0                       // #0</span>
<span class="w">  </span><span class="m">400578</span>:<span class="w">    </span>a8c27bfd<span class="w">     </span>ldp<span class="w">    </span>x29,<span class="w"> </span>x30,<span class="w"> </span><span class="o">[</span>sp<span class="o">]</span>,<span class="w"> </span><span class="c1">#32</span>
<span class="w">  </span>40057c:<span class="w">    </span>d65f03c0<span class="w">     </span>ret
...
</code></pre></div>
<p>输出中将无用信息抹去，这里的\&lt;_start&gt;可以看到两个目标文件的入口点不一致(0000000000001020和0000000000400450)，这也对应ELF的头部信息。宿主机的机器码对应着X86-64汇编，目标机的机器码对应arm64汇编。</p>
<p>查看文件的分段信息：</p>
<div class="highlight"><pre><span></span><code>readelf<span class="w"> </span>-S<span class="w"> </span>x86.out<span class="w"> </span>&gt;<span class="w"> </span>x86_readelf.txt
aarch64-linux-readelf<span class="w">  </span>-S<span class="w"> </span>arm.out<span class="w"> </span>&gt;<span class="w"> </span>arm_readelf.txt
</code></pre></div>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>x86_readelf.txt
There<span class="w"> </span>are<span class="w"> </span><span class="m">35</span><span class="w"> </span>section<span class="w"> </span>headers,<span class="w"> </span>starting<span class="w"> </span>at<span class="w"> </span>offset<span class="w"> </span>0x46f0:

Section<span class="w"> </span>Headers:
<span class="w">  </span><span class="o">[</span>Nr<span class="o">]</span><span class="w"> </span>Name<span class="w">              </span>Type<span class="w">             </span>Address<span class="w">           </span>Offset
<span class="w">       </span>Size<span class="w">              </span>EntSize<span class="w">          </span>Flags<span class="w">  </span>Link<span class="w">  </span>Info<span class="w">  </span>Align
<span class="w">  </span><span class="o">[</span><span class="w"> </span><span class="m">0</span><span class="o">]</span><span class="w">                   </span>NULL<span class="w">             </span><span class="m">0000000000000000</span><span class="w">  </span><span class="m">00000000</span>
<span class="w">       </span><span class="m">0000000000000000</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">           </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span>
<span class="w">  </span><span class="o">[</span><span class="w"> </span><span class="m">1</span><span class="o">]</span><span class="w"> </span>.interp<span class="w">           </span>PROGBITS<span class="w">         </span><span class="m">0000000000000318</span><span class="w">  </span><span class="m">00000318</span>
<span class="w">       </span>000000000000001c<span class="w">  </span><span class="m">0000000000000000</span><span class="w">   </span>A<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">1</span>
<span class="w">  </span><span class="o">[</span><span class="w"> </span><span class="m">2</span><span class="o">]</span><span class="w"> </span>.note.gnu.pr<span class="o">[</span>...<span class="o">]</span><span class="w"> </span>NOTE<span class="w">             </span><span class="m">0000000000000338</span><span class="w">  </span><span class="m">00000338</span>
<span class="w">       </span><span class="m">0000000000000040</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">   </span>A<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="w"> </span><span class="m">3</span><span class="o">]</span><span class="w"> </span>.note.gnu.bu<span class="o">[</span>...<span class="o">]</span><span class="w"> </span>NOTE<span class="w">             </span><span class="m">0000000000000378</span><span class="w">  </span><span class="m">00000378</span>
<span class="w">       </span><span class="m">0000000000000024</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">   </span>A<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">4</span>
<span class="w">  </span><span class="o">[</span><span class="w"> </span><span class="m">4</span><span class="o">]</span><span class="w"> </span>.note.ABI-tag<span class="w">     </span>NOTE<span class="w">             </span>000000000000039c<span class="w">  </span>0000039c
<span class="w">       </span><span class="m">0000000000000020</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">   </span>A<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">4</span>
<span class="w">  </span><span class="o">[</span><span class="w"> </span><span class="m">5</span><span class="o">]</span><span class="w"> </span>.gnu.hash<span class="w">         </span>GNU_HASH<span class="w">         </span>00000000000003c0<span class="w">  </span>000003c0
<span class="w">       </span>000000000000001c<span class="w">  </span><span class="m">0000000000000000</span><span class="w">   </span>A<span class="w">       </span><span class="m">6</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="w"> </span><span class="m">6</span><span class="o">]</span><span class="w"> </span>.dynsym<span class="w">           </span>DYNSYM<span class="w">           </span>00000000000003e0<span class="w">  </span>000003e0
<span class="w">       </span><span class="m">0000000000000090</span><span class="w">  </span><span class="m">0000000000000018</span><span class="w">   </span>A<span class="w">       </span><span class="m">7</span><span class="w">     </span><span class="m">1</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="w"> </span><span class="m">7</span><span class="o">]</span><span class="w"> </span>.dynstr<span class="w">           </span>STRTAB<span class="w">           </span><span class="m">0000000000000470</span><span class="w">  </span><span class="m">00000470</span>
<span class="w">       </span><span class="m">0000000000000088</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">   </span>A<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">1</span>
<span class="w">  </span><span class="o">[</span><span class="w"> </span><span class="m">8</span><span class="o">]</span><span class="w"> </span>.gnu.version<span class="w">      </span>VERSYM<span class="w">           </span>00000000000004f8<span class="w">  </span>000004f8
<span class="w">       </span>000000000000000c<span class="w">  </span><span class="m">0000000000000002</span><span class="w">   </span>A<span class="w">       </span><span class="m">6</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">2</span>
<span class="w">  </span><span class="o">[</span><span class="w"> </span><span class="m">9</span><span class="o">]</span><span class="w"> </span>.gnu.version_r<span class="w">    </span>VERNEED<span class="w">          </span><span class="m">0000000000000508</span><span class="w">  </span><span class="m">00000508</span>
<span class="w">       </span><span class="m">0000000000000030</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">   </span>A<span class="w">       </span><span class="m">7</span><span class="w">     </span><span class="m">1</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="m">10</span><span class="o">]</span><span class="w"> </span>.rela.dyn<span class="w">         </span>RELA<span class="w">             </span><span class="m">0000000000000538</span><span class="w">  </span><span class="m">00000538</span>
<span class="w">       </span>00000000000000c0<span class="w">  </span><span class="m">0000000000000018</span><span class="w">   </span>A<span class="w">       </span><span class="m">6</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="m">11</span><span class="o">]</span><span class="w"> </span>.init<span class="w">             </span>PROGBITS<span class="w">         </span><span class="m">0000000000001000</span><span class="w">  </span><span class="m">00001000</span>
<span class="w">       </span>000000000000001b<span class="w">  </span><span class="m">0000000000000000</span><span class="w">  </span>AX<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">4</span>
<span class="w">  </span><span class="o">[</span><span class="m">12</span><span class="o">]</span><span class="w"> </span>.text<span class="w">             </span>PROGBITS<span class="w">         </span><span class="m">0000000000001020</span><span class="w">  </span><span class="m">00001020</span>
<span class="w">       </span><span class="m">0000000000000120</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">  </span>AX<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">16</span>
<span class="w">  </span><span class="o">[</span><span class="m">13</span><span class="o">]</span><span class="w"> </span>.fini<span class="w">             </span>PROGBITS<span class="w">         </span><span class="m">0000000000001140</span><span class="w">  </span><span class="m">00001140</span>
<span class="w">       </span>000000000000000d<span class="w">  </span><span class="m">0000000000000000</span><span class="w">  </span>AX<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">4</span>
<span class="w">  </span><span class="o">[</span><span class="m">14</span><span class="o">]</span><span class="w"> </span>.rodata<span class="w">           </span>PROGBITS<span class="w">         </span><span class="m">0000000000002000</span><span class="w">  </span><span class="m">00002000</span>
<span class="w">       </span><span class="m">0000000000000004</span><span class="w">  </span><span class="m">0000000000000004</span><span class="w">  </span>AM<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">4</span>
<span class="w">  </span><span class="o">[</span><span class="m">15</span><span class="o">]</span><span class="w"> </span>.eh_frame_hdr<span class="w">     </span>PROGBITS<span class="w">         </span><span class="m">0000000000002004</span><span class="w">  </span><span class="m">00002004</span>
<span class="w">       </span><span class="m">0000000000000024</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">   </span>A<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">4</span>
<span class="w">  </span><span class="o">[</span><span class="m">16</span><span class="o">]</span><span class="w"> </span>.eh_frame<span class="w">         </span>PROGBITS<span class="w">         </span><span class="m">0000000000002028</span><span class="w">  </span><span class="m">00002028</span>
<span class="w">       </span><span class="m">0000000000000074</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">   </span>A<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="m">17</span><span class="o">]</span><span class="w"> </span>.init_array<span class="w">       </span>INIT_ARRAY<span class="w">       </span>0000000000003e10<span class="w">  </span>00002e10
<span class="w">       </span><span class="m">0000000000000008</span><span class="w">  </span><span class="m">0000000000000008</span><span class="w">  </span>WA<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="m">18</span><span class="o">]</span><span class="w"> </span>.fini_array<span class="w">       </span>FINI_ARRAY<span class="w">       </span>0000000000003e18<span class="w">  </span>00002e18
<span class="w">       </span><span class="m">0000000000000008</span><span class="w">  </span><span class="m">0000000000000008</span><span class="w">  </span>WA<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="m">19</span><span class="o">]</span><span class="w"> </span>.dynamic<span class="w">          </span>DYNAMIC<span class="w">          </span>0000000000003e20<span class="w">  </span>00002e20
<span class="w">       </span>00000000000001a0<span class="w">  </span><span class="m">0000000000000010</span><span class="w">  </span>WA<span class="w">       </span><span class="m">7</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="m">20</span><span class="o">]</span><span class="w"> </span>.got<span class="w">              </span>PROGBITS<span class="w">         </span>0000000000003fc0<span class="w">  </span>00002fc0
<span class="w">       </span><span class="m">0000000000000028</span><span class="w">  </span><span class="m">0000000000000008</span><span class="w">  </span>WA<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="m">21</span><span class="o">]</span><span class="w"> </span>.got.plt<span class="w">          </span>PROGBITS<span class="w">         </span>0000000000003fe8<span class="w">  </span>00002fe8
<span class="w">       </span><span class="m">0000000000000018</span><span class="w">  </span><span class="m">0000000000000008</span><span class="w">  </span>WA<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="m">22</span><span class="o">]</span><span class="w"> </span>.data<span class="w">             </span>PROGBITS<span class="w">         </span><span class="m">0000000000004000</span><span class="w">  </span><span class="m">00003000</span>
<span class="w">       </span><span class="m">0000000000000010</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">  </span>WA<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="m">23</span><span class="o">]</span><span class="w"> </span>.bss<span class="w">              </span>NOBITS<span class="w">           </span><span class="m">0000000000004010</span><span class="w">  </span><span class="m">00003010</span>
<span class="w">       </span><span class="m">0000000000000008</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">  </span>WA<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">1</span>
<span class="w">  </span><span class="o">[</span><span class="m">24</span><span class="o">]</span><span class="w"> </span>.comment<span class="w">          </span>PROGBITS<span class="w">         </span><span class="m">0000000000000000</span><span class="w">  </span><span class="m">00003010</span>
<span class="w">       </span><span class="m">0000000000000012</span><span class="w">  </span><span class="m">0000000000000001</span><span class="w">  </span>MS<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">1</span>
<span class="w">  </span><span class="o">[</span><span class="m">25</span><span class="o">]</span><span class="w"> </span>.debug_aranges<span class="w">    </span>PROGBITS<span class="w">         </span><span class="m">0000000000000000</span><span class="w">  </span><span class="m">00003030</span>
<span class="w">       </span>00000000000000f0<span class="w">  </span><span class="m">0000000000000000</span><span class="w">           </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">16</span>
<span class="w">  </span><span class="o">[</span><span class="m">26</span><span class="o">]</span><span class="w"> </span>.debug_info<span class="w">       </span>PROGBITS<span class="w">         </span><span class="m">0000000000000000</span><span class="w">  </span><span class="m">00003120</span>
<span class="w">       </span><span class="m">0000000000000594</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">           </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">1</span>
<span class="w">  </span><span class="o">[</span><span class="m">27</span><span class="o">]</span><span class="w"> </span>.debug_abbrev<span class="w">     </span>PROGBITS<span class="w">         </span><span class="m">0000000000000000</span><span class="w">  </span>000036b4
<span class="w">       </span>00000000000001a5<span class="w">  </span><span class="m">0000000000000000</span><span class="w">           </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">1</span>
<span class="w">  </span><span class="o">[</span><span class="m">28</span><span class="o">]</span><span class="w"> </span>.debug_line<span class="w">       </span>PROGBITS<span class="w">         </span><span class="m">0000000000000000</span><span class="w">  </span><span class="m">00003859</span>
<span class="w">       </span>00000000000001da<span class="w">  </span><span class="m">0000000000000000</span><span class="w">           </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">1</span>
<span class="w">  </span><span class="o">[</span><span class="m">29</span><span class="o">]</span><span class="w"> </span>.debug_str<span class="w">        </span>PROGBITS<span class="w">         </span><span class="m">0000000000000000</span><span class="w">  </span>00003a33
<span class="w">       </span>000000000000047a<span class="w">  </span><span class="m">0000000000000001</span><span class="w">  </span>MS<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">1</span>
<span class="w">  </span><span class="o">[</span><span class="m">30</span><span class="o">]</span><span class="w"> </span>.debug_line_str<span class="w">   </span>PROGBITS<span class="w">         </span><span class="m">0000000000000000</span><span class="w">  </span>00003ead
<span class="w">       </span>000000000000013e<span class="w">  </span><span class="m">0000000000000001</span><span class="w">  </span>MS<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">1</span>
<span class="w">  </span><span class="o">[</span><span class="m">31</span><span class="o">]</span><span class="w"> </span>.debug_rnglists<span class="w">   </span>PROGBITS<span class="w">         </span><span class="m">0000000000000000</span><span class="w">  </span>00003feb
<span class="w">       </span><span class="m">0000000000000042</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">           </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">1</span>
<span class="w">  </span><span class="o">[</span><span class="m">32</span><span class="o">]</span><span class="w"> </span>.symtab<span class="w">           </span>SYMTAB<span class="w">           </span><span class="m">0000000000000000</span><span class="w">  </span><span class="m">00004030</span>
<span class="w">       </span><span class="m">0000000000000378</span><span class="w">  </span><span class="m">0000000000000018</span><span class="w">          </span><span class="m">33</span><span class="w">    </span><span class="m">19</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="m">33</span><span class="o">]</span><span class="w"> </span>.strtab<span class="w">           </span>STRTAB<span class="w">           </span><span class="m">0000000000000000</span><span class="w">  </span>000043a8
<span class="w">       </span>00000000000001d5<span class="w">  </span><span class="m">0000000000000000</span><span class="w">           </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">1</span>
<span class="w">  </span><span class="o">[</span><span class="m">34</span><span class="o">]</span><span class="w"> </span>.shstrtab<span class="w">         </span>STRTAB<span class="w">           </span><span class="m">0000000000000000</span><span class="w">  </span>0000457d
<span class="w">       </span>000000000000016c<span class="w">  </span><span class="m">0000000000000000</span><span class="w">           </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">1</span>
Key<span class="w"> </span>to<span class="w"> </span>Flags:
<span class="w">  </span>W<span class="w"> </span><span class="o">(</span>write<span class="o">)</span>,<span class="w"> </span>A<span class="w"> </span><span class="o">(</span>alloc<span class="o">)</span>,<span class="w"> </span>X<span class="w"> </span><span class="o">(</span>execute<span class="o">)</span>,<span class="w"> </span>M<span class="w"> </span><span class="o">(</span>merge<span class="o">)</span>,<span class="w"> </span>S<span class="w"> </span><span class="o">(</span>strings<span class="o">)</span>,<span class="w"> </span>I<span class="w"> </span><span class="o">(</span>info<span class="o">)</span>,
<span class="w">  </span>L<span class="w"> </span><span class="o">(</span>link<span class="w"> </span>order<span class="o">)</span>,<span class="w"> </span>O<span class="w"> </span><span class="o">(</span>extra<span class="w"> </span>OS<span class="w"> </span>processing<span class="w"> </span>required<span class="o">)</span>,<span class="w"> </span>G<span class="w"> </span><span class="o">(</span>group<span class="o">)</span>,<span class="w"> </span>T<span class="w"> </span><span class="o">(</span>TLS<span class="o">)</span>,
<span class="w">  </span>C<span class="w"> </span><span class="o">(</span>compressed<span class="o">)</span>,<span class="w"> </span>x<span class="w"> </span><span class="o">(</span>unknown<span class="o">)</span>,<span class="w"> </span>o<span class="w"> </span><span class="o">(</span>OS<span class="w"> </span>specific<span class="o">)</span>,<span class="w"> </span>E<span class="w"> </span><span class="o">(</span>exclude<span class="o">)</span>,
<span class="w">  </span>D<span class="w"> </span><span class="o">(</span>mbind<span class="o">)</span>,<span class="w"> </span>l<span class="w"> </span><span class="o">(</span>large<span class="o">)</span>,<span class="w"> </span>p<span class="w"> </span><span class="o">(</span>processor<span class="w"> </span>specific<span class="o">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>arm_readelf.txt
There<span class="w"> </span>are<span class="w"> </span><span class="m">36</span><span class="w"> </span>section<span class="w"> </span>headers,<span class="w"> </span>starting<span class="w"> </span>at<span class="w"> </span>offset<span class="w"> </span>0x2ba8:

Section<span class="w"> </span>Headers:
<span class="w">  </span><span class="o">[</span>Nr<span class="o">]</span><span class="w"> </span>Name<span class="w">              </span>Type<span class="w">             </span>Address<span class="w">           </span>Offset
<span class="w">       </span>Size<span class="w">              </span>EntSize<span class="w">          </span>Flags<span class="w">  </span>Link<span class="w">  </span>Info<span class="w">  </span>Align
<span class="w">  </span><span class="o">[</span><span class="w"> </span><span class="m">0</span><span class="o">]</span><span class="w">                   </span>NULL<span class="w">             </span><span class="m">0000000000000000</span><span class="w">  </span><span class="m">00000000</span>
<span class="w">       </span><span class="m">0000000000000000</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">           </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">0</span>
<span class="w">  </span><span class="o">[</span><span class="w"> </span><span class="m">1</span><span class="o">]</span><span class="w"> </span>.interp<span class="w">           </span>PROGBITS<span class="w">         </span><span class="m">0000000000400238</span><span class="w">  </span><span class="m">00000238</span>
<span class="w">       </span>000000000000001b<span class="w">  </span><span class="m">0000000000000000</span><span class="w">   </span>A<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">1</span>
<span class="w">  </span><span class="o">[</span><span class="w"> </span><span class="m">2</span><span class="o">]</span><span class="w"> </span>.note.ABI-tag<span class="w">     </span>NOTE<span class="w">             </span><span class="m">0000000000400254</span><span class="w">  </span><span class="m">00000254</span>
<span class="w">       </span><span class="m">0000000000000020</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">   </span>A<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">4</span>
<span class="w">  </span><span class="o">[</span><span class="w"> </span><span class="m">3</span><span class="o">]</span><span class="w"> </span>.hash<span class="w">             </span>HASH<span class="w">             </span><span class="m">0000000000400278</span><span class="w">  </span><span class="m">00000278</span>
<span class="w">       </span><span class="m">0000000000000024</span><span class="w">  </span><span class="m">0000000000000004</span><span class="w">   </span>A<span class="w">       </span><span class="m">5</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="w"> </span><span class="m">4</span><span class="o">]</span><span class="w"> </span>.gnu.hash<span class="w">         </span>GNU_HASH<span class="w">         </span>00000000004002a0<span class="w">  </span>000002a0
<span class="w">       </span>000000000000001c<span class="w">  </span><span class="m">0000000000000000</span><span class="w">   </span>A<span class="w">       </span><span class="m">5</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="w"> </span><span class="m">5</span><span class="o">]</span><span class="w"> </span>.dynsym<span class="w">           </span>DYNSYM<span class="w">           </span>00000000004002c0<span class="w">  </span>000002c0
<span class="w">       </span><span class="m">0000000000000060</span><span class="w">  </span><span class="m">0000000000000018</span><span class="w">   </span>A<span class="w">       </span><span class="m">6</span><span class="w">     </span><span class="m">1</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="w"> </span><span class="m">6</span><span class="o">]</span><span class="w"> </span>.dynstr<span class="w">           </span>STRTAB<span class="w">           </span><span class="m">0000000000400320</span><span class="w">  </span><span class="m">00000320</span>
<span class="w">       </span>000000000000003d<span class="w">  </span><span class="m">0000000000000000</span><span class="w">   </span>A<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">1</span>
<span class="w">  </span><span class="o">[</span><span class="w"> </span><span class="m">7</span><span class="o">]</span><span class="w"> </span>.gnu.version<span class="w">      </span>VERSYM<span class="w">           </span>000000000040035e<span class="w">  </span>0000035e
<span class="w">       </span><span class="m">0000000000000008</span><span class="w">  </span><span class="m">0000000000000002</span><span class="w">   </span>A<span class="w">       </span><span class="m">5</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">2</span>
<span class="w">  </span><span class="o">[</span><span class="w"> </span><span class="m">8</span><span class="o">]</span><span class="w"> </span>.gnu.version_r<span class="w">    </span>VERNEED<span class="w">          </span><span class="m">0000000000400368</span><span class="w">  </span><span class="m">00000368</span>
<span class="w">       </span><span class="m">0000000000000020</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">   </span>A<span class="w">       </span><span class="m">6</span><span class="w">     </span><span class="m">1</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="w"> </span><span class="m">9</span><span class="o">]</span><span class="w"> </span>.rela.dyn<span class="w">         </span>RELA<span class="w">             </span><span class="m">0000000000400388</span><span class="w">  </span><span class="m">00000388</span>
<span class="w">       </span><span class="m">0000000000000018</span><span class="w">  </span><span class="m">0000000000000018</span><span class="w">   </span>A<span class="w">       </span><span class="m">5</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="m">10</span><span class="o">]</span><span class="w"> </span>.rela.plt<span class="w">         </span>RELA<span class="w">             </span>00000000004003a0<span class="w">  </span>000003a0
<span class="w">       </span><span class="m">0000000000000048</span><span class="w">  </span><span class="m">0000000000000018</span><span class="w">  </span>AI<span class="w">       </span><span class="m">5</span><span class="w">    </span><span class="m">22</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="m">11</span><span class="o">]</span><span class="w"> </span>.init<span class="w">             </span>PROGBITS<span class="w">         </span>00000000004003e8<span class="w">  </span>000003e8
<span class="w">       </span><span class="m">0000000000000014</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">  </span>AX<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">4</span>
<span class="w">  </span><span class="o">[</span><span class="m">12</span><span class="o">]</span><span class="w"> </span>.plt<span class="w">              </span>PROGBITS<span class="w">         </span><span class="m">0000000000400400</span><span class="w">  </span><span class="m">00000400</span>
<span class="w">       </span><span class="m">0000000000000050</span><span class="w">  </span><span class="m">0000000000000010</span><span class="w">  </span>AX<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">16</span>
<span class="w">  </span><span class="o">[</span><span class="m">13</span><span class="o">]</span><span class="w"> </span>.text<span class="w">             </span>PROGBITS<span class="w">         </span><span class="m">0000000000400450</span><span class="w">  </span><span class="m">00000450</span>
<span class="w">       </span>00000000000001b4<span class="w">  </span><span class="m">0000000000000000</span><span class="w">  </span>AX<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="m">14</span><span class="o">]</span><span class="w"> </span>.fini<span class="w">             </span>PROGBITS<span class="w">         </span><span class="m">0000000000400604</span><span class="w">  </span><span class="m">00000604</span>
<span class="w">       </span><span class="m">0000000000000010</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">  </span>AX<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">4</span>
<span class="w">  </span><span class="o">[</span><span class="m">15</span><span class="o">]</span><span class="w"> </span>.rodata<span class="w">           </span>PROGBITS<span class="w">         </span><span class="m">0000000000400618</span><span class="w">  </span><span class="m">00000618</span>
<span class="w">       </span><span class="m">0000000000000018</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">   </span>A<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="m">16</span><span class="o">]</span><span class="w"> </span>.eh_frame_hdr<span class="w">     </span>PROGBITS<span class="w">         </span><span class="m">0000000000400630</span><span class="w">  </span><span class="m">00000630</span>
<span class="w">       </span>000000000000004c<span class="w">  </span><span class="m">0000000000000000</span><span class="w">   </span>A<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">4</span>
<span class="w">  </span><span class="o">[</span><span class="m">17</span><span class="o">]</span><span class="w"> </span>.eh_frame<span class="w">         </span>PROGBITS<span class="w">         </span><span class="m">0000000000400680</span><span class="w">  </span><span class="m">00000680</span>
<span class="w">       </span>00000000000000fc<span class="w">  </span><span class="m">0000000000000000</span><span class="w">   </span>A<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="m">18</span><span class="o">]</span><span class="w"> </span>.init_array<span class="w">       </span>INIT_ARRAY<span class="w">       </span>0000000000410de8<span class="w">  </span>00000de8
<span class="w">       </span><span class="m">0000000000000008</span><span class="w">  </span><span class="m">0000000000000008</span><span class="w">  </span>WA<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="m">19</span><span class="o">]</span><span class="w"> </span>.fini_array<span class="w">       </span>FINI_ARRAY<span class="w">       </span>0000000000410df0<span class="w">  </span>00000df0
<span class="w">       </span><span class="m">0000000000000008</span><span class="w">  </span><span class="m">0000000000000008</span><span class="w">  </span>WA<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="m">20</span><span class="o">]</span><span class="w"> </span>.dynamic<span class="w">          </span>DYNAMIC<span class="w">          </span>0000000000410df8<span class="w">  </span>00000df8
<span class="w">       </span>00000000000001e0<span class="w">  </span><span class="m">0000000000000010</span><span class="w">  </span>WA<span class="w">       </span><span class="m">6</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="m">21</span><span class="o">]</span><span class="w"> </span>.got<span class="w">              </span>PROGBITS<span class="w">         </span>0000000000410fd8<span class="w">  </span>00000fd8
<span class="w">       </span><span class="m">0000000000000010</span><span class="w">  </span><span class="m">0000000000000008</span><span class="w">  </span>WA<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="m">22</span><span class="o">]</span><span class="w"> </span>.got.plt<span class="w">          </span>PROGBITS<span class="w">         </span>0000000000410fe8<span class="w">  </span>00000fe8
<span class="w">       </span><span class="m">0000000000000030</span><span class="w">  </span><span class="m">0000000000000008</span><span class="w">  </span>WA<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="m">23</span><span class="o">]</span><span class="w"> </span>.data<span class="w">             </span>PROGBITS<span class="w">         </span><span class="m">0000000000411018</span><span class="w">  </span><span class="m">00001018</span>
<span class="w">       </span><span class="m">0000000000000010</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">  </span>WA<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="m">24</span><span class="o">]</span><span class="w"> </span>.bss<span class="w">              </span>NOBITS<span class="w">           </span><span class="m">0000000000411028</span><span class="w">  </span><span class="m">00001028</span>
<span class="w">       </span><span class="m">0000000000000008</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">  </span>WA<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">1</span>
<span class="w">  </span><span class="o">[</span><span class="m">25</span><span class="o">]</span><span class="w"> </span>.comment<span class="w">          </span>PROGBITS<span class="w">         </span><span class="m">0000000000000000</span><span class="w">  </span><span class="m">00001028</span>
<span class="w">       </span><span class="m">0000000000000011</span><span class="w">  </span><span class="m">0000000000000001</span><span class="w">  </span>MS<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">1</span>
<span class="w">  </span><span class="o">[</span><span class="m">26</span><span class="o">]</span><span class="w"> </span>.debug_aranges<span class="w">    </span>PROGBITS<span class="w">         </span><span class="m">0000000000000000</span><span class="w">  </span><span class="m">00001040</span>
<span class="w">       </span><span class="m">0000000000000110</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">           </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">16</span>
<span class="w">  </span><span class="o">[</span><span class="m">27</span><span class="o">]</span><span class="w"> </span>.debug_info<span class="w">       </span>PROGBITS<span class="w">         </span><span class="m">0000000000000000</span><span class="w">  </span><span class="m">00001150</span>
<span class="w">       </span><span class="m">0000000000000288</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">           </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">1</span>
<span class="w">  </span><span class="o">[</span><span class="m">28</span><span class="o">]</span><span class="w"> </span>.debug_abbrev<span class="w">     </span>PROGBITS<span class="w">         </span><span class="m">0000000000000000</span><span class="w">  </span>000013d8
<span class="w">       </span>000000000000019c<span class="w">  </span><span class="m">0000000000000000</span><span class="w">           </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">1</span>
<span class="w">  </span><span class="o">[</span><span class="m">29</span><span class="o">]</span><span class="w"> </span>.debug_line<span class="w">       </span>PROGBITS<span class="w">         </span><span class="m">0000000000000000</span><span class="w">  </span><span class="m">00001574</span>
<span class="w">       </span><span class="m">0000000000000285</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">           </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">1</span>
<span class="w">  </span><span class="o">[</span><span class="m">30</span><span class="o">]</span><span class="w"> </span>.debug_str<span class="w">        </span>PROGBITS<span class="w">         </span><span class="m">0000000000000000</span><span class="w">  </span>000017f9
<span class="w">       </span><span class="m">0000000000000301</span><span class="w">  </span><span class="m">0000000000000001</span><span class="w">  </span>MS<span class="w">       </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">1</span>
<span class="w">  </span><span class="o">[</span><span class="m">31</span><span class="o">]</span><span class="w"> </span>.debug_loc<span class="w">        </span>PROGBITS<span class="w">         </span><span class="m">0000000000000000</span><span class="w">  </span>00001afa
<span class="w">       </span>000000000000019b<span class="w">  </span><span class="m">0000000000000000</span><span class="w">           </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">1</span>
<span class="w">  </span><span class="o">[</span><span class="m">32</span><span class="o">]</span><span class="w"> </span>.debug_ranges<span class="w">     </span>PROGBITS<span class="w">         </span><span class="m">0000000000000000</span><span class="w">  </span>00001ca0
<span class="w">       </span>00000000000000c0<span class="w">  </span><span class="m">0000000000000000</span><span class="w">           </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">16</span>
<span class="w">  </span><span class="o">[</span><span class="m">33</span><span class="o">]</span><span class="w"> </span>.symtab<span class="w">           </span>SYMTAB<span class="w">           </span><span class="m">0000000000000000</span><span class="w">  </span>00001d60
<span class="w">       </span><span class="m">0000000000000978</span><span class="w">  </span><span class="m">0000000000000018</span><span class="w">          </span><span class="m">34</span><span class="w">    </span><span class="m">79</span><span class="w">     </span><span class="m">8</span>
<span class="w">  </span><span class="o">[</span><span class="m">34</span><span class="o">]</span><span class="w"> </span>.strtab<span class="w">           </span>STRTAB<span class="w">           </span><span class="m">0000000000000000</span><span class="w">  </span>000026d8
<span class="w">       </span><span class="m">0000000000000385</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">           </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">1</span>
<span class="w">  </span><span class="o">[</span><span class="m">35</span><span class="o">]</span><span class="w"> </span>.shstrtab<span class="w">         </span>STRTAB<span class="w">           </span><span class="m">0000000000000000</span><span class="w">  </span>00002a5d
<span class="w">       </span><span class="m">0000000000000149</span><span class="w">  </span><span class="m">0000000000000000</span><span class="w">           </span><span class="m">0</span><span class="w">     </span><span class="m">0</span><span class="w">     </span><span class="m">1</span>
Key<span class="w"> </span>to<span class="w"> </span>Flags:
<span class="w">  </span>W<span class="w"> </span><span class="o">(</span>write<span class="o">)</span>,<span class="w"> </span>A<span class="w"> </span><span class="o">(</span>alloc<span class="o">)</span>,<span class="w"> </span>X<span class="w"> </span><span class="o">(</span>execute<span class="o">)</span>,<span class="w"> </span>M<span class="w"> </span><span class="o">(</span>merge<span class="o">)</span>,<span class="w"> </span>S<span class="w"> </span><span class="o">(</span>strings<span class="o">)</span>,<span class="w"> </span>I<span class="w"> </span><span class="o">(</span>info<span class="o">)</span>,
<span class="w">  </span>L<span class="w"> </span><span class="o">(</span>link<span class="w"> </span>order<span class="o">)</span>,<span class="w"> </span>O<span class="w"> </span><span class="o">(</span>extra<span class="w"> </span>OS<span class="w"> </span>processing<span class="w"> </span>required<span class="o">)</span>,<span class="w"> </span>G<span class="w"> </span><span class="o">(</span>group<span class="o">)</span>,<span class="w"> </span>T<span class="w"> </span><span class="o">(</span>TLS<span class="o">)</span>,
<span class="w">  </span>C<span class="w"> </span><span class="o">(</span>compressed<span class="o">)</span>,<span class="w"> </span>x<span class="w"> </span><span class="o">(</span>unknown<span class="o">)</span>,<span class="w"> </span>o<span class="w"> </span><span class="o">(</span>OS<span class="w"> </span>specific<span class="o">)</span>,<span class="w"> </span>E<span class="w"> </span><span class="o">(</span>exclude<span class="o">)</span>,
<span class="w">  </span>p<span class="w"> </span><span class="o">(</span>processor<span class="w"> </span>specific<span class="o">)</span>
</code></pre></div>
<h3 id="_6">六）修改源码</h3>
<p>经过我细致的分析，确定版本信息的输出在文件<code>cross/src/gcc-9.2.0/gcc/gcc.c</code>中。这个文件定义了若干输出函数，大致作用如下：</p>
<ul>
<li><code>static bool driver_handle_option(...)</code></li>
</ul>
<p>这个是分析参数的入口，会设置相关的flag。</p>
<ul>
<li><code>int driver::maybe_print_and_exit () const</code></li>
</ul>
<p>内部有<code>--version</code>的输出定义：</p>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">print_version</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// printf("Hi PB20111654, hello everyone!\n");</span>
<span class="w">      </span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s">"%s %s%s</span><span class="se">\n</span><span class="s">"</span><span class="p">),</span><span class="w"> </span><span class="n">progname</span><span class="p">,</span><span class="w"> </span><span class="n">pkgversion_string</span><span class="p">,</span>
<span class="w">          </span><span class="n">version_string</span><span class="p">);</span>
<span class="w">      </span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">"Copyright %s 2019 Free Software Foundation, Inc.</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span>
<span class="w">          </span><span class="n">_</span><span class="p">(</span><span class="s">"(C)"</span><span class="p">));</span>
<span class="w">      </span><span class="n">fputs</span><span class="w"> </span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s">"This is free software; see the source for copying conditions.  There is NO</span><span class="se">\n</span><span class="s">\</span>
<span class="s">warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span><span class="se">\n\n</span><span class="s">"</span><span class="p">),</span>
<span class="w">         </span><span class="n">stdout</span><span class="p">);</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="w"> </span><span class="n">verbose_flag</span><span class="p">)</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="w">      </span><span class="cm">/* We do not exit here. We use the same mechanism of --help to print</span>
<span class="cm">     the version of the sub-processes. */</span>
<span class="w">      </span><span class="n">fputc</span><span class="w"> </span><span class="p">(</span><span class="sc">'\n'</span><span class="p">,</span><span class="w"> </span><span class="n">stdout</span><span class="p">);</span>
<span class="w">      </span><span class="n">fflush</span><span class="w"> </span><span class="p">(</span><span class="n">stdout</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>
<p>其中注释掉的就是我加入的部分。</p>
<ul>
<li><code>static void print_configuration (FILE *file)</code></li>
</ul>
<p>这个对应<code>-v</code>输出的后半部分，这个函数的最后写道：</p>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="w"> </span><span class="n">strncmp</span><span class="w"> </span><span class="p">(</span><span class="n">version_string</span><span class="p">,</span><span class="w"> </span><span class="n">compiler_version</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">)</span>
<span class="w">      </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">compiler_version</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">    </span><span class="n">fnotice</span><span class="w"> </span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="s">"gcc version %s %s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="w"> </span><span class="n">version_string</span><span class="p">,</span>
<span class="w">         </span><span class="n">pkgversion_string</span><span class="p">);</span>
</code></pre></div>
<p>修改这段字符串即可。</p>
<p>修改代码前的输出：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>aarch64-linux-gcc<span class="w"> </span>--version
aarch64-linux-gcc<span class="w"> </span><span class="o">(</span>GCC<span class="o">)</span><span class="w"> </span><span class="m">9</span>.2.0
Copyright<span class="w"> </span><span class="o">(</span>C<span class="o">)</span><span class="w"> </span><span class="m">2019</span><span class="w"> </span>Free<span class="w"> </span>Software<span class="w"> </span>Foundation,<span class="w"> </span>Inc.
This<span class="w"> </span>is<span class="w"> </span>free<span class="w"> </span>software<span class="p">;</span><span class="w"> </span>see<span class="w"> </span>the<span class="w"> </span><span class="nb">source</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>copying<span class="w"> </span>conditions.<span class="w">  </span>There<span class="w"> </span>is<span class="w"> </span>NO
warranty<span class="p">;</span><span class="w"> </span>not<span class="w"> </span>even<span class="w"> </span><span class="k">for</span><span class="w"> </span>MERCHANTABILITY<span class="w"> </span>or<span class="w"> </span>FITNESS<span class="w"> </span>FOR<span class="w"> </span>A<span class="w"> </span>PARTICULAR<span class="w"> </span>PURPOSE.
$<span class="w"> </span>aarch64-linux-gcc<span class="w"> </span>-v
Using<span class="w"> </span>built-in<span class="w"> </span>specs.
<span class="nv">COLLECT_GCC</span><span class="o">=</span>aarch64-linux-gcc
<span class="nv">COLLECT_LTO_WRAPPER</span><span class="o">=</span>/home/lixiaoqi/Documents/Courses/embedded/cross/install/libexec/gcc/aarch64-linux/9.2.0/lto-wrapper
Target:<span class="w"> </span>aarch64-linux
Configured<span class="w"> </span>with:<span class="w"> </span>/home/lixiaoqi/Documents/Courses/embedded/cross/src/gcc-9.2.0/configure<span class="w"> </span>--prefix<span class="o">=</span>/home/lixiaoqi/Documents/Courses/embedded/cross/install<span class="w"> </span>--target<span class="o">=</span>aarch64-linux<span class="w"> </span>--enable-language<span class="o">=</span>c,c++<span class="w"> </span>--disable-multilib
Thread<span class="w"> </span>model:<span class="w"> </span>posix
gcc<span class="w"> </span>version<span class="w"> </span><span class="m">9</span>.2.0<span class="w"> </span><span class="o">(</span>GCC<span class="o">)</span>
</code></pre></div>
<p>修改代码，重新编译，再次测试：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>aarch64-linux-gcc<span class="w"> </span>--version
Hi<span class="w"> </span>PB20111654,<span class="w"> </span>hello<span class="w"> </span>everyone!
aarch64-linux-gcc<span class="w"> </span><span class="o">(</span>GCC<span class="o">)</span><span class="w"> </span><span class="m">9</span>.2.0
Copyright<span class="w"> </span><span class="o">(</span>C<span class="o">)</span><span class="w"> </span><span class="m">2019</span><span class="w"> </span>Free<span class="w"> </span>Software<span class="w"> </span>Foundation,<span class="w"> </span>Inc.
This<span class="w"> </span>is<span class="w"> </span>free<span class="w"> </span>software<span class="p">;</span><span class="w"> </span>see<span class="w"> </span>the<span class="w"> </span><span class="nb">source</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>copying<span class="w"> </span>conditions.<span class="w">  </span>There<span class="w"> </span>is<span class="w"> </span>NO
warranty<span class="p">;</span><span class="w"> </span>not<span class="w"> </span>even<span class="w"> </span><span class="k">for</span><span class="w"> </span>MERCHANTABILITY<span class="w"> </span>or<span class="w"> </span>FITNESS<span class="w"> </span>FOR<span class="w"> </span>A<span class="w"> </span>PARTICULAR<span class="w"> </span>PURPOSE.
$<span class="w"> </span>aarch64-linux-gcc<span class="w"> </span>-v
Using<span class="w"> </span>built-in<span class="w"> </span>specs.
<span class="nv">COLLECT_GCC</span><span class="o">=</span>aarch64-linux-gcc
<span class="nv">COLLECT_LTO_WRAPPER</span><span class="o">=</span>/home/lixiaoqi/Documents/Courses/embedded/cross/install/libexec/gcc/aarch64-linux/9.2.0/lto-wrapper
Target:<span class="w"> </span>aarch64-linux
Configured<span class="w"> </span>with:<span class="w"> </span>/home/lixiaoqi/Documents/Courses/embedded/cross/src/gcc-9.2.0/configure<span class="w"> </span>--prefix<span class="o">=</span>/home/lixiaoqi/Documents/Courses/embedded/cross/install<span class="w"> </span>--target<span class="o">=</span>aarch64-linux<span class="w"> </span>--enable-language<span class="o">=</span>c,c++<span class="w"> </span>--disable-multilib
Thread<span class="w"> </span>model:<span class="w"> </span>posix
gcc<span class="w"> </span>version<span class="w"> </span><span class="m">9</span>.2.0<span class="w"> </span><span class="o">(</span>GCC-lxq<span class="o">)</span>
</code></pre></div>
<p>第一个命令注意第一行、第二个命令注意最后一行。</p>
</article>
</div>
</div>
<a class="md-top md-icon" data-md-component="top" hidden="" href="#">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg>
            Back to top
          </a>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      Copyright © 2022 李晓奇
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.indexes", "navigation.top", "toc.follow"], "search": "../../assets/javascripts/workers/search.db81ec45.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../assets/javascripts/bundle.4b2c34cd.min.js"></script>
<script src="../../mkdocs/javascripts/mathjax.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
<script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>